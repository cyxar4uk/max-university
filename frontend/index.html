<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Цифровой университет MAX</title>
    <!-- MAX Bridge SDK -->
    <script src="https://bridge.max.ru/web-app-bridge.js"></script>
    <script>
      // Мок для window.WebApp если MAX Bridge недоступен
      window.addEventListener('load', function() {
        if (typeof window.WebApp === 'undefined') {
          console.warn('MAX Bridge not available, creating mock implementation');
          window.WebApp = {
            ready: function() { console.log('WebApp.ready() called (mock)'); },
            close: function() { console.log('WebApp.close() called (mock)'); },
            initData: '',
            initDataUnsafe: {
              user: null,
              start_param: null
            },
            platform: 'web',
            version: '1.0',
            colorScheme: 'light',
            themeParams: {},
            isExpanded: false,
            viewportHeight: window.innerHeight,
            viewportStableHeight: window.innerHeight,
            BackButton: {
              isVisible: false,
              show: function() { 
                this.isVisible = true;
                console.log('BackButton.show() called (mock)'); 
              },
              hide: function() { 
                this.isVisible = false;
                console.log('BackButton.hide() called (mock)'); 
              },
              onClick: function(callback) { 
                this._callback = callback;
                console.log('BackButton.onClick() called (mock)'); 
              },
              offClick: function() { 
                this._callback = null;
                console.log('BackButton.offClick() called (mock)'); 
              }
            },
            MainButton: {
              text: '',
              color: '#0088CC',
              textColor: '#FFFFFF',
              isVisible: false,
              isActive: true,
              isProgressVisible: false,
              setText: function(text) { this.text = text; },
              onClick: function(callback) { this._callback = callback; },
              offClick: function() { this._callback = null; },
              show: function() { this.isVisible = true; },
              hide: function() { this.isVisible = false; },
              enable: function() { this.isActive = true; },
              disable: function() { this.isActive = false; },
              showProgress: function() { this.isProgressVisible = true; },
              hideProgress: function() { this.isProgressVisible = false; }
            },
            HapticFeedback: {
              impactOccurred: function(style) { console.log('HapticFeedback.impactOccurred:', style); },
              notificationOccurred: function(type) { console.log('HapticFeedback.notificationOccurred:', type); },
              selectionChanged: function() { console.log('HapticFeedback.selectionChanged'); }
            },
            openLink: function(url) { 
              console.log('Opening link:', url);
              window.open(url, '_blank');
            },
            openMaxLink: function(url) { 
              console.log('Opening MAX link:', url);
              window.open(url, '_blank'); 
            }
          };
        } else {
          console.log('MAX Bridge is available');
        }
      });
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="./src/main.jsx"></script>
  </body>
</html>


